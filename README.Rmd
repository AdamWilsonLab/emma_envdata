---
output: github_document
editor_options: 
  chunk_output_type: console
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(tidyverse)
```

![EMMA](img/EMMA Logo_RE_3.jpg)

# Ecological Monitoring and Management Application (EMMA)

This is the core repository for environmental data processing in the Ecological Monitoring and Management Application [EMMA.io](EMMA.io).

## File structure

The most important files are:

```{r, eval = FALSE}
├── _targets.R (data processing workflow and dependency management)
├── R/
├──── [data_processing_functions]
├── data/
├──── manual_download (files behind firewalls that must be manually downloaded)
├──── raw_data (raw data files downloaded by the workflow)
├──── processed_data (data processed and stored by the workflow)
└── Readme.Rmd (this file)
```

Files generated by the workflow are stored in the targets-runs branch.  The final output of the workflow is a set of parquet files stored as Github releases with the tag "current".


# Workflow structure

```{r, echo=F, results="hide"}
targets::tar_glimpse() %>% 
  htmlwidgets::saveWidget(file = "img/network.html")
#webshot::install_phantomjs()
webshot::webshot("img/network.html", "img/network.png")
```


# Extras

    * Call `targets::tar_renv(extras = character(0))` to write a `_packages.R` file to expose hidden dependencies.
    * Call `renv::init()` to initialize the `renv` lockfile `renv.lock` or `renv::snapshot()` to update it.
    * Commit `renv.lock` to your Git repository.
